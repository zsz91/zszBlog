#### new的定义
- new 运算符创建一个用户定义的对象类型的实例或具有构造函数的内置对象的实例。
```
  new constructor[([arguments])]
  constructor: 一个指定对象实例的类型的类或函数。
  arguments:   一个用于被 constructor 调用的参数列表。
  
  function Car(make, model, year) {
        this.make = make;
        this.model = model;
        this.year = year;
  }
  const car1 = new Car('Eagle', 'Talon TSi', 1993);
  console.log(car1.make);
  // expected output: "Eagle"  
```
#### 具体过程
1. 创建一个新的空的对象
2. 将构造函数的作用域赋给新对象（因此this就指向了这个新对象）
3. 执行构造函数中的代码（为这个新对象添加属性）
4. 如果这个函数有返回值，则返回；否则，就会默认返回新对象

#### new 的实现
- 一个继承自 Foo.prototype 的新对象被创建。
- 使用指定的参数调用构造函数 Foo，并将 this 绑定到新创建的对象。new Foo 等同于 new Foo()，也就是没有指定参数列表，Foo 不带任何参数调用的情况。
- 由构造函数返回的对象就是 new 表达式的结果。如果构造函数没有显式返回一个对象，则使用步骤1创建的对象。
- 一般情况下，构造函数不返回值，但是用户可以选择主动返回对象，来覆盖正常的对象创建步骤
```

  function Ctor(){ // 构造函数
    ....
}

function myNew(ctor,...args){
    if(typeof ctor !== 'function'){
      throw 'myNew function the first param must be a function';
    }
    var newObj = Object.create(ctor.prototype); //创建一个继承自ctor.prototype的新对象
    var ctorReturnResult = ctor.apply(newObj, args); //将构造函数ctor的this绑定到newObj中
    var isObject = typeof ctorReturnResult === 'object' && ctorReturnResult !== null;
    var isFunction = typeof ctorReturnResult === 'function';
    if(isObject || isFunction){
        return ctorReturnResult;
    }
    return newObj;
}

let c = myNew(Ctor);
```