# 函数
#### 返回值
*   如果函数直接 `return`； 则返回的是 `undefined`.没有return语句也是返回 `undefined`
*   要么让函数始终有一个返回值,要么永远都不要返回值. 方便调试代码.
*   P64中列出了严格模式下函数的一些限制. use strict

#### 理解参数

*   ES不关心函数的参数个数.解析器不会验证命名参数是否传入.
*   函数接收到的始终都是一个数组,而不关心有哪些参数,在函数体内通过 `arguments` 对象来访问这个参数数组.
*   `arguments` 只是与数组类似 并不是一个数组的实例.
*   `arguments` 并不具备其他数组中的方法
*   使用 `arguments.length` 获取传入参数的个数.(箭头函数不能使用arguments),通过arguments.length的个数的不同可以达到一定的`函数重载`功能. P65
*   `arguments` 的特殊性: 它的值永远与`传入的对应的命名参数`的值保持同步,它们的内存空间是独立的但是值却是同步的.严格模式下重写arguments会报语法错误.
*   没有传递值的命名参数会被赋予undefined
*   ES中所有函数的参数都是按值传递的包括对象. P71下方详细介绍了`按值传递`. 把函数参数想象成局部变量


```javascript
   function b(name='z', c='2'){
            console.log(arguments[1], c); // arguments 与 形参不是一回事.
    }
    b(1); // undefined, 2
```
*   后定义的重名函数会覆盖先定义的函数.通过检查传入函数中参数的类型和数量并作出不同的反应,可以模仿方法的重载

### 第四章 变量,作用域和内存问题

#### 基本类型和引用类型的值

*   引用类型值 指那些可能由多个值构成的==对象==.

1.  检测类型

*   引用类型的值都是Object的实例,确定一个值是哪种引用类型可以使用 `instanceof` 操作符
*   ECMA-262 规定任何在内部实现\[\[Call]]方法的对象都应该应用 `typeof` 操作符时返回 function;

1.  执行环境及作用域

*   在web浏览器中,全局执行环境被认为是Window对象.
*   全局执行环境的变量对象始终都是作用域链中的最后一个对象.
*   内部环境可以通过作用域链访问所有的外部环境
*   变量查找 延作用域链向上搜索

1.  垃圾收集

*   垃圾收集器会按照固定的时间间隔(或代码执行中预定的收集时间),周期性地执行这一操作,有标记清除和引用计数两种收集机制. 当代码中存在循环引用现象时,"引用计数"算法就会导致问题.

1.  管理内存

*   优化内存占用的最佳方式,就是为执行中的代码只保存必要的数据.一旦数据不再有用,最好通过将其值设置为null来释放其引用--这个做法叫做解除引用.能让值脱离执行环境,以便垃圾收集器下次运行时将其回收.

### 引用类型

1.  引用类型是一种数据结构.其值都是对象的一个实例.有时候也称为对象定义.

*   对象是某个特定引用类型的实例.
*   对象字面量 = {} ,对象的数值属性名==会自动转换为字符串==,在通过对象字面量定义对象时,实际不会调用Object构造函数.


```javascript
 // typeof 返回值 'object', 'boolean', 'string', 'function', 'undefined', 'number'
     typeof([]) // 'object'
     typeof(null) // 'object' js的bug
     typeof(undefined) // 'undefined'

     let a = {
         2: 'a',
         xx: 'b',
     };
     for(let i in a){
         console.log(i, typeof i); // '2' string, 'xx' string,
     }
```
   

1.  Array类型

*   数组创建时,如果传递的是数字,则会按照该数组创建包含给定项数的数组;而如果传递的是其他类型的参数,则会创建包含那个值的只有一项的数组.


```javascript
    Array(3) // []  arr.length = 3
    Array('Greg') // ['Greg']  
```

*   与对象一样使用 \[] 数组字面量 创建数组时也不会调用Array构造函数.通过修改数组的length属性,可以从数组的末尾移除项或向数组添加新项
*   检测数组 使用 Array.isArray()方法.
*   数组调用valueOf()返回的是数组本身.
*   调用toString()方法会返回数组中每一个值的toString()返回的字符串形式拼接而成的一个==以逗号分隔的字符串==.
*   调用toLocaleString()方法会返回数组中每一个值的toLocaleString()返回的字符串形式拼接而成的一个==以逗号分隔的字符串==.
*   如果数组中某一项是null或者undefined,那么该值在 join(), toString(),toLocaleString()方法返回的结果中以空字符串表示.

```javascript
    let a = Array(2); // a.length = 2 a为空 [empty × 2] a[0] = undefined
    let c = Array(1,2,3,4); //  c = [1,2,3,4]; 
    let b = Array(1,2,3,undefined,4,5);
    console.log(b.valueOf());  // [1, 2, 3, undefined, 4, 5]
    console.log(b.toString()); // 1,2,3,,4,5
    console.log(b.toLocaleString()); // 1,2,3,,4,5
```


*   join()方法: 如果不给此方法传入任何参数,或传入undefined 则使用`逗号`作为分隔符
*   push('green','blue') 末尾添加若干项到指定数组,返回修改后数组的长度
*   pop() 从数组末尾移除最后一项,减少数组的length的值,然后返回移除的项.

