# 函数表达式与函数声明

##### 函数声明:
- https://blog.csdn.net/u014205965/article/details/45851569
- 一个重要特征就是函数声明提升,意思是在执行代码之前会先读取函数声明>.

##### 函数表达式

*   匿名函数: 创建一个函数并将它赋值给变量.

```javascript
    const a = function () {
        console.log('123');
    } // 函数表达式
    function a(){
        console.log('123')
    } // 函数声明
```

*   理解函数提升的关键,就是理解函数声明与函数表达式之间的区别.
*   在把函数当成值来使用的情况下,都可以使用匿名函数.不过,这并不是匿名函数唯一的用途.

##### 递归:

*   在编写递归函数时,使用`arguments.callee`总比使用函数名更保险.但在严格模式下,不能通过脚本访问`arguments.callee`属性.可以使用命名函数表达式来达成相同的效果.
*   警告：在严格模式下，第5版 ECMAScript (ES5) `禁止使用 arguments.callee()`。当一个函数必须调用自身的时候, 避免使用 arguments.callee(), 通过要么给函数表达式一个名字,要么使用一个函数声明
*   [MDN callee](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/arguments/callee)
*   `arguments.callee.name` 获取函数名

```javascript

    const fact = ( function f(num){
        if(num <= 1){
            return 1;
        }else{
            return num * f(num - 1);
        }
    } )
    // 以上代码创建了一个名为f()的命名函数表达式,然后将它赋值给变量 fact. 
    // 即便把函数赋值给另一个变量,函数的名字f仍然有效.
```

#### window对象

*   BOM的核心对象是window,它表示浏览器的一个实例.在浏览器中,window对象有双重角色,它既是通过JavaScript访问浏览器窗口的一个接口,又是ECMAScript规定的Global对象.
*   全局变量不能通过delete 操作符删除,而直接在window对象上的定义的属性可以.因为全局变量的`[[Configurable]]`为false

##### 窗口关系及框架(window\.frames)

*   对应于&lt;frameset&gt; &lt;frame&gt; 标签
*   与框架有关的最后一个对象是 `self`,它始终指向 `window`,实际上,`self` 和 `window` 对象可以互换使用. 
*   引入 `self` 对象的目的只是为了与 `top` 和 `parent` 对象对应起来. 所有这些对象都是 window 对象的属性,可以通过 `window.parent`, `window.top`等形式来访问.

##### 窗口位置

*   `window.screenLeft`:(≈ `window.ScreenX`) 窗口相对于屏幕左边的位置.
*   `window.screenTop`:(≈ `window.ScreenY`) 窗口相对于屏幕上边的位置.
*   `window.moveTo(newX, newY)`: 将窗口精确地移动到一个新位置.
*   `window.moveBy(xMove,yMove)`:
- 将窗口精确地移动到一个新位置.参数表示在水平和垂直方向上移动的像素数.

##### 窗口大小

*   `document.body.clientHeight`: 页面视口高度(用于自适应页面)
*   `document.body.clientWidth`: 页面视口宽度(用于自适应页面)
*   `window.innerWidth`:移动设备可见视口宽度
*   `window.innerHeight`:移动设备可见视口高度
*   `window.resizeTo(newWidth, newHeight)`: 调整浏览器窗口的大小.
*   `window.resizeBy(widthCha,heightCha)`
    新窗口与原窗口的宽高之差.
*   `window.open(url, target, sourceString, boolean)`:打开一个新窗口. 4个参数.该方法返回一个指向新窗口的引用. 只要传了第三个参数则在新窗口中打开页面

##### onhashchange方法

*   当 一个窗口的 hash （URL 中 # 后面的部分）改变时就会触发 hashchange 事件（参见 location.hash）。

<!---->

    窗口特征（Window Features）
    channelmode=yes|no|1|0	是否使用剧院模式显示窗口。默认为 no。
    directories=yes|no|1|0	是否添加目录按钮。默认为 yes。
    fullscreen=yes|no|1|0	是否使用全屏模式显示浏览器。默认是 no。处于全屏模式的窗口必须同时处于剧院模式。
    height=pixels	窗口文档显示区的高度。以像素计。
    left=pixels	窗口的 x 坐标。以像素计。
    location=yes|no|1|0	是否显示地址字段。默认是 yes。
    menubar=yes|no|1|0	是否显示菜单栏。默认是 yes。
    resizable=yes|no|1|0	窗口是否可调节尺寸。默认是 yes。
    scrollbars=yes|no|1|0	是否显示滚动条。默认是 yes。
    status=yes|no|1|0	是否添加状态栏。默认是 yes。
    titlebar=yes|no|1|0	是否显示标题栏。默认是 yes。
    toolbar=yes|no|1|0	是否显示浏览器的工具栏。默认是 yes。
    top=pixels	窗口的 y 坐标。
    width=pixels	窗口的文档显示区的宽度。以像素计。

##### 定时器和计时器

*   超时调用 `window.setTimeout()`. 返回一个数值ID,表示超时调用.使用 `clearTimeOut()` 取消超时调用.
*   间歇调用` window.setInterval()`.返回一个间歇调用ID. .使用 `clearInterval()` 取消间歇调用
*   一般使用超时调用来模拟间歇调用.P205 因为最后一个间歇调用可能会在前一个间歇调用结束之前启动. 最好不要使用间歇调用.

##### 系统对话框

*   `alert()`,`confirm()`,`prompt()` 显示这些对话框的时候代码会停止执行,而关掉这些对话框后代码又会恢复执行.
*   `window.print()` 打印对话框
*   `window.find()` 查找对话框

##### location对象

*   `window.location` 和 `document.location` 引用的是同一个对象.
*   属性
    *   `hash`,
    *   `host`,
    *   `hostname`,
    *   `href`
    *   `pathname` //有坑别用 识别不了#后的地址
    *   `port`
    *   `protocol`
    *   `search`

<!---->

    window.location = 'http//www.baidu.com';
    window.location.host = 'localhost:8111'; // 没有http
    window.location.href ='http//www.baidu.com';
    window.location.assign('http//www.baidu.com');
    window.location.replace('http//www.baidu.com')// 这个跳转后用户不能回到前一个页面.
    //以上几种页面跳转方法基本等价
    window.location.protocol // https: 或者 http:
    window.location.reload() // 重新加载当前显示的页面.可能会读取缓存
    window.location.reload(true) //强制从服务器重写加载

通过修改hash,search,hostname,pathname,port 也可以改变url;
每次修改这些属性(hash除外) 页面都会以新URL重新加载.

##### bind函数
```javascript

    function fn(a, b, c) {
      return a + b + c;
    }

    var _fn = fn.bind(null, 10);
    var ans = _fn(20, 30); // 60
   //  fn 函数需要三个参数，
   //  _fn 函数将 10 作为默认的第一个参数，所以只需要传入两个参数即可，如果你不小心传入了三个参数，放心，也只会取前两个。
```

#### window.navigator对象
- 识别客户端浏览器的事实标准
- 用户代理字符串 ==window.navigator.userAgent==
1. 360浏览器chrome 内核: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
2. 360浏览器 IE 内核: Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729; rv:11.0) like Gecko
##### 检查插件P211
- 在IE中检测插件的唯一方式就是使用专有的ActiveXObject 类型.
#### window.screen对象

#### window.history对象

```javascript
window.history.go(-1) //后退一页
window.history.go(1) //前进一页
window.history.go(2) //前进两页
window.history.go('baidu.com') //在历史记录中包含该字符串的第一个位置.
window.history.back() //后退一页
window.history.forward() //前进一页
window.history.length //历史记录的数量.根据是否为0 判断是不是用户打开窗口后的第一个页面
```
