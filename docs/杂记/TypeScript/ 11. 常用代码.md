# typescript常用代码
## Promise
```typescript
const flash: () => Promise<any> = useContext(ContextFlashTree);
```
## 使用泛型和keyof约束参数
- 约束参数 propName 为 user的 key之一
```typescript
const user = {
    name: 'zsasd',
    age: 35,
    gender: 'man',
};
function handler<T>(obj: T, propName: keyof T) {}
```


## 使用Exclude 排除部分类型
- StepsProps['onChange'] 可能是undefined 这里排除掉
```typescript
export interface TEvents {
  onChangeStep: Exclude<StepsProps['onChange'], undefined>;
  // 排除 StepsProps['onChange'] 中的 undefined
}
```

## 使用 extends 和 never 排除类型
- T 可以是任一类型但是排除掉 number
```typescript
type BandType<T, U> = T extends number ? never : T
function method<T>(x: BandType<T, number>) {}
// method参数 排除掉 number 类型
```

## 使用 Pick 选取部分属性
```typescript
export interface TProps
  extends Pick<TPropsEvents, 'onChangeWorkspaceCode' | 'onChangeStage'> {
  formData: TFormValues;
  workspaceCode?: string;
}
```


## 使用感叹号断言类型不是undefined
```typescript
 <AnalysisResult reportDetails={data.analysisDetails.reportDetails!} />
```

## 使用下划线 解决 函数多形参只引用一部分的问题
- 一个参数用 ``_``,两个参数用``__`` 以此类推
```typescript
itemRender={(_, file, __, ___) => {}
```
