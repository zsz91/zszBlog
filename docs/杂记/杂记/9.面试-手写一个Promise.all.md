# 手写一个Promise.all(iterable)
1. 难点: 如何判断传入的参数是否是一个可迭代对象
2. 如何判断所有的Promise执行完成
3. 其中一个失败了,则返回失败
4. [B站](https://www.bilibili.com/video/BV1JxA8eEEqU)
5. 2025年4月8日
```javascript
Promise.myAll = function(proms) {
    let res, rej;
    const p = new Promise((resolve, reject) => {
        res = resolve;
        rej = reject;
    });
    // 判断传入的是不是一个可迭代对象
    let i = 0;
    const result = [];
    for(const item of proms){
        const index = i;
        i++;
        Promise.resolve(item).then((data) => {
            // 1. 成功的结果保存到数组中
            // 2. 判断是否所有的Promise都成功了
            result[index] = data;
            i--;
            if(i === 0) {
                res(result);
            }
        }, rej);
        
    }
    if(i === 0) { // 如果不是可迭代对象 返回空数组
        res([]);
    }
    return p;
}
```
