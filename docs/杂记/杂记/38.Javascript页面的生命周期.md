# Javascript页面的生命周期
- [掘金](https://juejin.cn/post/7294453574645137408)

## DOMContentLoaded
- DOMContentLoaded 事件是在浏览器解析完整个HTML文档并构建了DOM树后触发的。这意味着页面的结构已经可用，并且你可以通过JavaScript访问和操作DOM元素。这个事件对于执行与DOM有关的初始化操作非常有用，例如以下情况：
    - 动态渲染页面内容：你可以使用DOMContentLoaded事件来请求数据，并根据数据动态生成页面内容。这可以提高用户体验，因为用户不必等待整个页面加载完毕。
    - 添加事件监听器：你可以在DOMContentLoaded事件内部为DOM元素添加事件监听器，以确保元素已准备就绪并可以安全地与用户交互。
## Load
- load 事件在整个页面和其所有依赖资源（如图像、样式表、脚本）都加载完毕后触发。这表示用户可以与完全渲染的页面进行交互。load事件通常用于执行与页面的最终初始化和资源加载有关的操作，例如：
  - 加载外部资源：你可以使用load事件来确保所有页面依赖资源都已加载，然后执行与这些资源相关的操作。
  - 延迟加载内容：将某些内容的加载延迟到load事件后，以提高初始页面加载速度。
## beforeunload
- beforeunload 事件在用户尝试离开页面之前触发。通常，浏览器会显示一个对话框，询问用户是否确定要离开页面。
- 这个事件用于确保用户不会意外离开页面，从而丢失未保存的数据。它可以用于以下情况：
  - 数据保存提醒：当用户尝试关闭页面或导航到其他页面时，你可以使用beforeunload事件来提醒用户保存未保存的数据。
  - 避免误操作：beforeunload事件可以防止用户在意外的情况下离开页面，从而减少用户的数据损失。

## Unload
- unload 事件在用户离开页面时触发。在此事件中，通常不能执行太多操作，因为页面即将被卸载。然而，它仍然可以用于执行一些清理操作，例如：
    - 释放资源：你可以在unload事件中释放页面上使用的资源，例如关闭WebSocket连接、清除本地存储数据或记录用户活动。
    - 保存最后状态：unload事件可以用于保存用户在页面上的最后状态，以便下次访问时可以还原。
