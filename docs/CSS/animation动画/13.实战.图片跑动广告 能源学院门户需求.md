- http://scjoyedu.eicp.net:57400/zentao/task-view-3715.html
- 使用定时器 让图片一直移动
```
import React, { useEffect, useState, useRef, useMemo, useContext } from 'react';
import { connect } from 'dva';
import styles from './styles.less';
export default connect(({ lowCode_design }) => {
	return {
		beforeShowGetData: lowCode_design.beforeShowGetData,
	};
})(Index);



function Index(props) {
	const { beforeShowGetData } = props;
	const timerInter = useRef(null);

	useEffect(() => {
	  return () => {
	    if(timerInter.current){
	      clearInterval(timerInter.current);
	      timerInter.current = null;
      }
    }
  }, []);

  function startMoveBanner() {
    if(timerInter.current){
      return;
    }
    let x = 50,
      y = 60;
    let xin = true,
      yin = true;
    let step = 1;
    let delay = 10;
    let obj = document.getElementById('codefans_net');
    if(!obj){
      return;
    }
    function float() {
      let L = 0,
        T = 0;
      let R = document.body.clientWidth - obj.offsetWidth;
      let B = document.body.clientHeight - obj.offsetHeight;
      const left = x + document.body.scrollLeft;
      const top = y + document.body.scrollTop;
      console.log(left, top);
      obj.style.left = left + 'px';
      obj.style.top = top + 'px';
      x = x + step * (xin ? 1 : -1);
      if (x < L) {
        xin = true;
        x = L;
      }
      if (x > R) {
        xin = false;
        x = R;
      }
      y = y + step * (yin ? 1 : -1);
      if (y < T) {
        yin = true;
        y = T;
      }
      if (y > B) {
        yin = false;
        y = B;
      }
    }
    timerInter.current = setInterval(() => float(), delay);
    obj.onmouseover = function () {
      clearInterval(timerInter.current);
      timerInter.current = null;
    };
    obj.onmouseout = function () {
      timerInter.current = setInterval(() => float(), delay);
    };
  }


	if (beforeShowGetData && beforeShowGetData.moveBanner) {
		const { linkUrl, img } = beforeShowGetData.moveBanner;
		return (
			<img
				id='codefans_net'
				className={styles.bannerImage}
				onClick={() => {
					window.open(linkUrl);
				}}
				onLoad={startMoveBanner}
				src={img}
			/>
		);
	} else {
		return null;
	}
}

```